#!/bin/sh

printf "Service name (e.g. letta-deepseek-api-key): "
read service

[ -z "$service" ] && { echo "No service name given"; exit 1; }

printf "API key: "
stty -echo
read key
stty echo
printf "\n"

[ -z "$key" ] && { echo "No key entered"; exit 1; }

security add-generic-password \
  -a "$USER" \
  -s "$service" \
  -w "$key" \
  -U

echo "Stored key for service: $service"
